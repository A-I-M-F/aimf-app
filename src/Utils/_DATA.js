let koran = {
    "1": { id: "1", value: "El Bakara"},
    "2": { id: "2", value: "Al Imran - El Nissaa"},
    "3": { id: "3", value: "El Maaida - El Anaam"},
    "4": { id: "4", value: "El Aaraf - El Anfal"},
    "5": { id: "5", value: "El Tawba - Hood"},
    "6": { id: "6", value: "Youcef - El Hijr"},
    "7": { id: "7", value: "El Nahel - El Kahf"},
    "8": { id: "8", value: "Myriam - El Haj"},
    "9": { id: "9", value: "El Moominoun - El Chouaara"},
    "10": { id: "10", value: "El Neml - EL Sajda"},
    "11": { id: "11", value: "El Ahzab - El Safat"},
    "12": { id: "12", value: "Sad - Fossilat"},
    "13": { id: "13", value: "El Shorah - El Kital"},
    "14": { id: "14", value: "El Fath - El Kamar"},
    "15": { id: "15", value: "El Rahman - El Tahrim"},
    "16": { id: "16", value: "El Moulk - El Khatima"}
}
  
let khatma = {
    "8xf0y6ziyjabvozdd253nd": {
      id: "8xf0y6ziyjabvozdd253nd",
      date: 1467166872634,
      isOpen: true,
      koranPart: {
          "1": { id: "1", pickedBy: ["0ZAij3Nvipha3YYW9KZetBwSNx22", "fiGwwvXRpIOoLZ156HJCdeDwd4B2"],readBy: ["0ZAij3Nvipha3YYW9KZetBwSNx22"] },
          "2": { id: "2", pickedBy: ["0ZAij3Nvipha3YYW9KZetBwSNx22"],readBy: [] },
          "3": { id: "3", pickedBy: ["fiGwwvXRpIOoLZ156HJCdeDwd4B2"],readBy: ["fiGwwvXRpIOoLZ156HJCdeDwd4B2"] }, 
          "4": { id: "4", pickedBy: ["fiGwwvXRpIOoLZ156HJCdeDwd4B2"],readBy: ["fiGwwvXRpIOoLZ156HJCdeDwd4B2"] }, 
          "5": { id: "5", pickedBy: [],readBy: [] }, 
          "6": { id: "6", pickedBy: [],readBy: [] }, 
          "7": { id: "7", pickedBy: [],readBy: [] }, 
          "8": { id: "8", pickedBy: [],readBy: [] }, 
          "9": { id: "9", pickedBy: [],readBy: [] }, 
          "10": { id: "10", pickedBy: [],readBy: [] }, 
          "11": { id: "11", pickedBy: [],readBy: [] }, 
          "12": { id: "12", pickedBy: [],readBy: [] }, 
          "13": { id: "13", pickedBy: [],readBy: [] }, 
          "14": { id: "16", pickedBy: [],readBy: [] }, 
          "15": { id: "15", pickedBy: [],readBy: [] }, 
          "16": { id: "16", pickedBy: [],readBy: [] }, 

       } ,
      users : {
        "0ZAij3Nvipha3YYW9KZetBwSNx22" : {userId: "0ZAij3Nvipha3YYW9KZetBwSNx22", read: ["1"], toRead: ["1", "2"]},
        "J2tv79ozilRIOlq1JVAbxomPFpr1" : {userId: "J2tv79ozilRIOlq1JVAbxomPFpr1", read: [], toRead: []},
        "fiGwwvXRpIOoLZ156HJCdeDwd4B2" : {userId: "fiGwwvXRpIOoLZ156HJCdeDwd4B2", read: ["3", "4"], toRead: ["1", "3", "4"]},
      }

      
    },
    "6ni6ok3ym7mf1p33lnez": {
      id: "6ni6ok3ym7mf1p33lnez",
      date: 1584656889868,
      isOpen: false,
      koranPart: {
          "1": { id: "1", pickedBy: [],readBy: [] },
          "2": { id: "2", pickedBy: [],readBy: [] },
          "3": { id: "3", pickedBy: [],readBy: [] }, 
          "4": { id: "4", pickedBy: [],readBy: [] }, 
          "5": { id: "5", pickedBy: [],readBy: [] }, 
          "6": { id: "6", pickedBy: [],readBy: [] }, 
          "7": { id: "7", pickedBy: [],readBy: [] }, 
          "8": { id: "8", pickedBy: [],readBy: [] }, 
          "9": { id: "9", pickedBy: [],readBy: [] }, 
          "10": { id: "10", pickedBy: [],readBy: [] }, 
          "11": { id: "11", pickedBy: [],readBy: [] }, 
          "12": { id: "12", pickedBy: [],readBy: [] }, 
          "13": { id: "13", pickedBy: [],readBy: [] }, 
          "14": { id: "16", pickedBy: [],readBy: [] }, 
          "15": { id: "15", pickedBy: [],readBy: [] }, 
          "16": { id: "16", pickedBy: [],readBy: [] }, 
       } ,
      users : {
        "0ZAij3Nvipha3YYW9KZetBwSNx22" : {userId: "0ZAij3Nvipha3YYW9KZetBwSNx22", read: ["1"], toRead: ["1", "2"]},
        "J2tv79ozilRIOlq1JVAbxomPFpr1" : {userId: "J2tv79ozilRIOlq1JVAbxomPFpr1", read: [], toRead: []},
        "fiGwwvXRpIOoLZ156HJCdeDwd4B2" : {userId: "fiGwwvXRpIOoLZ156HJCdeDwd4B2", read: ["3", "4"], toRead: []},
      }      
    },
    "6ni6ok3ym7mf1p33lney": {
      id: "6ni6ok3ym7mf1p33lney",
      date: 1484656889868,
      isOpen: false,
      koranPart: {
          "1": { id: "1", pickedBy: [],readBy: [] },
          "2": { id: "2", pickedBy: [],readBy: [] },
          "3": { id: "3", pickedBy: [],readBy: [] }, 
          "4": { id: "4", pickedBy: [],readBy: [] }, 
          "5": { id: "5", pickedBy: [],readBy: [] }, 
          "6": { id: "6", pickedBy: [],readBy: [] }, 
          "7": { id: "7", pickedBy: [],readBy: [] }, 
          "8": { id: "8", pickedBy: [],readBy: [] }, 
          "9": { id: "9", pickedBy: [],readBy: [] }, 
          "10": { id: "10", pickedBy: [],readBy: [] }, 
          "11": { id: "11", pickedBy: [],readBy: [] }, 
          "12": { id: "12", pickedBy: [],readBy: [] }, 
          "13": { id: "13", pickedBy: [],readBy: [] }, 
          "14": { id: "16", pickedBy: [],readBy: [] }, 
          "15": { id: "15", pickedBy: [],readBy: [] }, 
          "16": { id: "16", pickedBy: [],readBy: [] }, 
       } ,
      users : {
        "0ZAij3Nvipha3YYW9KZetBwSNx22" : {userId: "0ZAij3Nvipha3YYW9KZetBwSNx22", read: ["1"], toRead: ["1", "2"]},
        "J2tv79ozilRIOlq1JVAbxomPFpr1" : {userId: "J2tv79ozilRIOlq1JVAbxomPFpr1", read: [], toRead: []},
        "fiGwwvXRpIOoLZ156HJCdeDwd4B2" : {userId: "fiGwwvXRpIOoLZ156HJCdeDwd4B2", read: ["3", "4"], toRead: []},
      }      
    }
  }
  
  function generateUID () {
    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)
  }
  
  export function _getKoran () {
    return new Promise((res, rej) => {
      setTimeout(() => res({...koran}), 1000)
    })
  }
  
  export function _getKhatma () {
    return new Promise((res, rej) => {
      setTimeout(() => res({...khatma}), 1000)
    })
  }
  
function formatKhatma (date) {
    return {
      id: generateUID(),
      date: date,
      isOpen: true,
      koranPart: {
        "1": { id: "1", pickedBy: [],readBy: [] },
        "2": { id: "2", pickedBy: [],readBy: [] },
        "3": { id: "3", pickedBy: [],readBy: [] }, 
        "4": { id: "4", pickedBy: [],readBy: [] }, 
        "5": { id: "5", pickedBy: [],readBy: [] }, 
        "6": { id: "6", pickedBy: [],readBy: [] }, 
        "7": { id: "7", pickedBy: [],readBy: [] }, 
        "8": { id: "8", pickedBy: [],readBy: [] }, 
        "9": { id: "9", pickedBy: [],readBy: [] }, 
        "10": { id: "10", pickedBy: [],readBy: [] }, 
        "11": { id: "11", pickedBy: [],readBy: [] }, 
        "12": { id: "12", pickedBy: [],readBy: [] }, 
        "13": { id: "13", pickedBy: [],readBy: [] }, 
        "14": { id: "16", pickedBy: [],readBy: [] }, 
        "15": { id: "15", pickedBy: [],readBy: [] }, 
        "16": { id: "16", pickedBy: [],readBy: [] }, 
      },
      users: {
        "0" : {userId: "0", read: [], toRead: []},
      }
    }
  }
  
  export function _saveKhatma (date) {
    return new Promise((res, rej) => {
      //const authedUser = question.author;
      const formatedKhatma = formatKhatma(date);

  
      setTimeout(() => {
        khatma = {
          ...khatma,
          [formatedKhatma.id]: formatedKhatma
        }
  
        res(formatedKhatma)
      }, 1000)
    })
  }
  /*
  export function _saveQuestionAnswer ({ authedUser, qid, answer }) {
    return new Promise((res, rej) => {
      setTimeout(() => {
        users = {
          ...users,
          [authedUser]: {
            ...users[authedUser],
            answers: {
              ...users[authedUser].answers,
              [qid]: answer
            }
          }
        }
  
        questions = {
          ...questions,
          [qid]: {
            ...questions[qid],
            [answer]: {
              ...questions[qid][answer],
              votes: questions[qid][answer].votes.concat([authedUser])
            }
          }
        }
  
        res()
      }, 500)
    })
  }
  */